import { join } from 'path';
import { format } from 'date-fns';

export async function takeScreenshot(
  testName: string,
  passed: boolean
): Promise<void> {
  const status = passed ? 'success' : 'failure';

  // Use date-fns to format the timestamp in a more readable way
  const timeStamp = format(new Date(), 'yyyy-MM-dd_HH-mm-ss');

  // Construct the screenshot filename with a clear format
  const screenShotPath = join(
    __dirname,
    `../screenshots/${status}/${testName}-${timeStamp}.png`
  );

  await browser.saveScreenshot(screenShotPath);
}